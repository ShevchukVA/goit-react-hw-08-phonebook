(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{107:function(t,e,n){t.exports={container:"ContactForm_container__1evjh",label:"ContactForm_label__MrT3T",input:"ContactForm_input__1_Yy8",button:"ContactForm_button__1JMdF"}},108:function(t,e,n){t.exports={list:"ContactList_list__1P58a",enter:"ContactList_enter__3XbOW",enterActive:"ContactList_enterActive__6pOU8",exit:"ContactList_exit__2knmL",exitActive:"ContactList_exitActive__1Y-vP"}},110:function(t,e,n){t.exports={box:"Filter_box__W3h78",text:"Filter_text__1zy8H",input:"Filter_input__3h2NW",enter:"Filter_enter__2HUiU",enterActive:"Filter_enterActive__3cgW4",exit:"Filter_exit__3W575",exitActive:"Filter_exitActive__3CvqT"}},111:function(t,e,n){t.exports={box:"Logo_box__14cGm",text:"Logo_text__cnAIe",appear:"Logo_appear__2HEGx",appearActive:"Logo_appearActive__2a62J"}},118:function(t,e,n){t.exports={item:"ContactItem_item__-M8tq",button:"ContactItem_button__wXX4y",text:"ContactItem_text__7B3E-"}},123:function(t,e,n){"use strict";n.r(e);var a=n(32),c=n(33),o=n(35),r=n(34),i=n(0),u=n.n(i),s=n(12),l=n(124),m=n(2),_=n(20),b=n.n(_),p=n(115),f=(n(116),n(117),n(9)),C={addContact:function(t){var e=t.name,n=t.number;return function(t,a){""!==e&&""!==n||Object(p.error)({text:"Please, enter name or number",delay:2500});var c=a().contacts.items.map((function(t){return t.name.toLowerCase()})).includes(e);c?Object(p.alert)({text:"".concat(e," is alredy in contacts"),delay:2500}):(t(f.a.addContactRequest()),c||b.a.post("/contacts",{name:e,number:n}).then((function(e){var n=e.data;return t(f.a.addContactSuccess(n))})).catch((function(e){return t(f.a.addContactError(e.massage))})))}},fetchContacts:function(){return function(t){t(f.a.fetchContactsRequest()),b.a.get("/contacts").then((function(e){var n=e.data;return t(f.a.fetchContactsSuccess(n))})).catch((function(e){return t(f.a.fetchContactsError(e.massage))}))}},removeContact:function(t){return function(e){e(f.a.removeContactRequest()),b.a.delete("/contacts/".concat(t)).then((function(){return e(f.a.removeContactSuccess(t))})).catch((function(t){return e(f.a.removeContactError(t.massage))}))}}},d=n(107),h=n.n(d),v=function(t){Object(o.a)(n,t);var e=Object(r.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),r=0;r<c;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(m.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault(),t.props.onAddContact(t.state),t.setState({name:"",number:""})},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return u.a.createElement("div",null,u.a.createElement("form",{onSubmit:this.handleSubmit,className:h.a.container},u.a.createElement("label",{className:h.a.label},"Name",u.a.createElement("input",{className:h.a.input,type:"name",name:"name",value:e,autoComplete:"off",placeholder:"Please enter name",onChange:this.handleChange})),u.a.createElement("label",{className:h.a.label},"Number",u.a.createElement("input",{className:h.a.input,type:"tel",name:"number",value:n,autoComplete:"off",placeholder:"Please enter number",onChange:this.handleChange})),u.a.createElement("button",{type:"submit",className:h.a.button},"Add contact")))}}]),n}(i.Component),g={onAddContact:C.addContact},E=Object(s.b)(null,g)(v),x=n(125),N=n(106),O=n(16),y=function(t){return t.contacts.items},F=function(t){return t.contacts.filter},j=Object(O.a)([y,F],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),L={getContacts:y,getLoading:function(t){return t.contacts.loading},getVisibleContacts:j,getFilter:F,getContactsById:function(t,e){return y(t).find((function(t){return t.id===e}))}},A=n(118),k=n.n(A),w=function(t){var e=t.name,n=t.number,a=t.onRemoveContact;return u.a.createElement("li",{className:k.a.item},u.a.createElement("p",{className:k.a.text},e,":"),u.a.createElement("p",{className:k.a.text},n),u.a.createElement("button",{className:k.a.button,type:"button",onClick:a},"X"))};w.defaultProps={name:"",number:""};var S=Object(s.b)((function(t,e){var n=L.getContactsById(t,e.id);return Object(N.a)({},n)}),(function(t,e){return{onRemoveContact:function(){return t(C.removeContact(e.id))}}}))(w),P=n(108),I=n.n(P),q=Object(s.b)((function(t){return{contacts:L.getVisibleContacts(t)}}))((function(t){var e=t.contacts;return u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{component:"ul",className:I.a.list},e.map((function(t){var e=t.id;return u.a.createElement(l.a,{key:e,classNames:I.a,timeout:250},u.a.createElement(S,{id:e}))}))))})),R=n(110),W=n.n(R),J={onChangeFilter:f.a.filterContacts},M=Object(s.b)((function(t){return{value:L.getFilter(t)}}),J)((function(t){var e=t.value,n=t.onChangeFilter;return u.a.createElement("div",{className:W.a.box},u.a.createElement("p",{className:W.a.text},"Find contacts by name"),u.a.createElement("input",{className:W.a.input,type:"text",value:e,onChange:function(t){return n(t.target.value)}}))})),X=n(111),B=n.n(X),H=function(){return u.a.createElement("div",{className:B.a.box},u.a.createElement("h1",{className:B.a.text},"Phonebook"))},T=n(47),U=(n(37),function(t){Object(o.a)(n,t);var e=Object(r.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return u.a.createElement("div",null,this.props.isLoadingContacts&&u.a.createElement(T.a,null),u.a.createElement(l.a,{in:!0,appear:!0,timeout:500,classNames:B.a,unmountOnExit:!0},u.a.createElement(H,null)),u.a.createElement(E,null),u.a.createElement(l.a,{in:this.props.isContacts.length>0,timeout:250,classNames:W.a,unmountOnExit:!0},u.a.createElement(M,null)),u.a.createElement(l.a,{in:this.props.isContacts.length>0,timeout:250,classNames:I.a,unmountOnExit:!0},u.a.createElement(q,null)))}}]),n}(i.Component)),D={onFetchContacts:C.fetchContacts};e.default=Object(s.b)((function(t){return{isLoadingContacts:L.getLoading(t),isContacts:L.getContacts(t)}}),D)(U)}}]);
//# sourceMappingURL=contacts-view.849a189f.chunk.js.map