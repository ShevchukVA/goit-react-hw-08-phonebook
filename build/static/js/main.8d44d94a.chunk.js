(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{103:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(22),o=n.n(c),u=n(12),s=n(49),i=n(32),l=n(33),b=n(35),f=n(34),g=n(17),m=n(6),d=n(15),O=[{path:"/",lable:"HomePage",exact:!0,component:Object(r.lazy)((function(){return n.e(1).then(n.bind(null,119))})),private:!1,restricted:!1},{path:"/register",lable:"",exact:!0,component:Object(r.lazy)((function(){return n.e(5).then(n.bind(null,120))})),private:!1,restricted:!0},{path:"/login",lable:"",exact:!0,component:Object(r.lazy)((function(){return n.e(2).then(n.bind(null,121))})),private:!1,restricted:!0},{path:"/contacts",lable:"Contacts",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(8),n.e(0)]).then(n.bind(null,123))})),private:!0,restricted:!1},{path:"",lable:"",exact:!1,component:Object(r.lazy)((function(){return n.e(4).then(n.bind(null,122))})),private:!1,restricted:!1}],h=n(8),j=n.n(h),p=Object(u.b)((function(e){return{isLogin:d.b.isLogin(e)}}))((function(e){var t=e.isLogin;return a.a.createElement("nav",{className:j.a.list},O.map((function(e){return(!e.private||t)&&a.a.createElement(g.c,{exact:e.exact,key:e.path,to:e.path,className:j.a.link,activeClassName:j.a.activeLink},e.lable)})))})),E=n(105),v=function(e){var t=e.email,n=e.onLogout;return a.a.createElement("div",null,a.a.createElement("span",{className:j.a.text},"Welcome, ",t),a.a.createElement(E.a,{variant:"outline-secondary",onClick:n},"Logout"))};v.defaultProps={email:""};var C=Object(u.b)((function(e){return{email:d.b.getUserEmail(e)}}),{onLogout:d.a.logOut})(v),y=function(){return a.a.createElement("div",null,a.a.createElement(g.c,{exact:!0,to:"/register",className:j.a.text,activeClassName:j.a.activeText},"Register"),a.a.createElement(g.c,{exact:!0,to:"/login",className:j.a.text,activeClassName:j.a.activeText},"Login"))},_=function(e){var t=e.isLogin;return a.a.createElement("header",{className:j.a.header},a.a.createElement(p,null),t?a.a.createElement(C,null):a.a.createElement(y,null))};_.defaultProps={isLogin:""};var k=Object(u.b)((function(e){return{isLogin:d.b.isLogin(e)}}))(_),S=function(e){var t=e.children;return a.a.createElement("div",{className:j.a.layout},a.a.createElement(k,null),a.a.createElement("hr",{className:j.a.line}),t)},q=n(47),L=n(25),R=function(e){return Object(m.g)(Object(u.b)((function(e){return{isLogin:d.b.isLogin(e)}}))((function(t){return a.a.createElement(e,t)})))},x=R((function(e){var t=e.component,n=e.isLogin,r=Object(L.a)(e,["component","isLogin"]);return a.a.createElement(m.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(t,e):a.a.createElement(m.a,{to:"/login"})}}))})),U=R((function(e){var t=e.component,n=e.isLogin,r=e.restricted,c=Object(L.a)(e,["component","isLogin","restricted"]);return a.a.createElement(m.b,Object.assign({},c,{render:function(e){return n&&r?a.a.createElement(m.a,{to:"/contacts"}):a.a.createElement(t,e)}}))})),N=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return a.a.createElement(g.a,null,a.a.createElement(S,null,a.a.createElement(r.Suspense,{fallback:a.a.createElement(q.a,null)},a.a.createElement(m.d,null,O.map((function(e){return e.private?a.a.createElement(x,Object.assign({key:e.lable},e)):a.a.createElement(U,Object.assign({key:e.lable},e))}))))))}}]),n}(r.Component),z=Object(u.b)(null,{onGetCurrentUser:d.a.getCurrentUser})(N),w=n(1),P=n(19),A=n(51),T=n.n(A),B=n(37),F=n(24),I={key:"auth",storage:T.a,whitelist:["token"]},V=Object(w.a)({reducer:{contacts:B.a,auth:Object(P.g)(I,F.a)},middleware:Object(w.d)({serializableCheck:{ignoredActions:[P.a,P.f,P.b,P.c,P.d,P.e]}})}),G=Object(P.h)(V);n(102);o.a.render(a.a.createElement(u.a,{store:V},a.a.createElement(s.a,{loading:null,persistor:G},a.a.createElement(z,null))),document.getElementById("root"))},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var r=n(20),a=n.n(r),c=n(4);a.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var o=function(e){a.a.defaults.headers.common.Authorization="Bearer ".concat(e)},u=function(){a.a.defaults.headers.common.Authorization=""},s={register:function(e){return function(t){t(c.a.registerRequest()),a.a.post("/users/signup",e).then((function(e){o(e.data.token),t(c.a.registerSuccess(e.data))})).catch((function(e){return t(c.a.registerError(e.massage))}))}},logIn:function(e){return function(t){t(c.a.loginRequest()),a.a.post("/users/login",e).then((function(e){o(e.data.token),t(c.a.loginSuccess(e.data))})).catch((function(e){return t(c.a.loginError(e.massage))}))}},logOut:function(){return function(e){e(c.a.logoutRequest()),a.a.post("users/logout").then((function(){u(),e(c.a.logoutSuccess())})).catch((function(t){return e(c.a.logoutError(t))}))}},getCurrentUser:function(){return function(e,t){var n=t().auth.token;n&&(o(n),e(c.a.getCurrentUserRequest()),a.a.get("/users/current").then((function(t){var n=t.data;return e(c.a.getCurrentUserSuccess(n))})).catch((function(t){return e(c.a.getCurrentUserError(t))})))}}},i=(n(24),{isLogin:function(e){return e.auth.token},getUserEmail:function(e){return e.auth.user.email}})},24:function(e,t,n){"use strict";var r,a,c,o=n(2),u=n(7),s=n(1),i=n(4),l={name:null,email:null},b=Object(s.c)(l,(r={},Object(o.a)(r,i.a.registerSuccess,(function(e,t){return t.payload.user})),Object(o.a)(r,i.a.loginSuccess,(function(e,t){return t.payload.user})),Object(o.a)(r,i.a.getCurrentUserSuccess,(function(e,t){return t.payload})),Object(o.a)(r,i.a.logoutSuccess,(function(){return l})),r)),f=Object(s.c)(null,(a={},Object(o.a)(a,i.a.registerSuccess,(function(e,t){return t.payload.token})),Object(o.a)(a,i.a.loginSuccess,(function(e,t){return t.payload.token})),Object(o.a)(a,i.a.logoutSuccess,(function(){return null})),a)),g=Object(s.c)(null,(c={},Object(o.a)(c,i.a.registerRequest,(function(){return null})),Object(o.a)(c,i.a.registerError,(function(e,t){return t})),Object(o.a)(c,i.a.loginRequest,(function(){return null})),Object(o.a)(c,i.a.loginError,(function(e,t){return t})),Object(o.a)(c,i.a.getCurrentUserError,(function(e,t){return t})),Object(o.a)(c,i.a.logoutError,(function(e,t){return t})),c));t.a=Object(u.c)({user:b,token:f,error:g})},37:function(e,t,n){"use strict";var r,a,c=n(2),o=n(52),u=n(1),s=n(7),i=n(9),l=Object(u.c)([],(r={},Object(c.a)(r,i.a.fetchContactsSuccess,(function(e,t){return t.payload})),Object(c.a)(r,i.a.addContactSuccess,(function(e,t){return[].concat(Object(o.a)(e),[t.payload])})),Object(c.a)(r,i.a.removeContactSuccess,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),r)),b=Object(u.c)("",Object(c.a)({},i.a.filterContacts,(function(e,t){return t.payload}))),f=Object(u.c)(!1,(a={},Object(c.a)(a,i.a.fetchContactsRequest,(function(){return!0})),Object(c.a)(a,i.a.fetchContactsSuccess,(function(){return!1})),Object(c.a)(a,i.a.fetchContactsError,(function(){return!1})),Object(c.a)(a,i.a.addContactRequest,(function(){return!0})),Object(c.a)(a,i.a.addContactSuccess,(function(){return!1})),Object(c.a)(a,i.a.addContactError,(function(){return!1})),Object(c.a)(a,i.a.removeContactRequest,(function(){return!0})),Object(c.a)(a,i.a.removeContactSuccess,(function(){return!1})),Object(c.a)(a,i.a.removeContactError,(function(){return!1})),a));t.a=Object(s.c)({items:l,filter:b,loading:f})},4:function(e,t,n){"use strict";var r=n(1),a=Object(r.b)("auth/registerRequest"),c=Object(r.b)("auth/registerSuccess"),o=Object(r.b)("auth/registerError"),u=Object(r.b)("auth/loginRequest"),s=Object(r.b)("auth/loginSuccess"),i=Object(r.b)("auth/loginError"),l=Object(r.b)("auth/logoutRequest"),b=Object(r.b)("auth/logoutSuccess"),f=Object(r.b)("auth/logoutError"),g=Object(r.b)("auth/getCurrentUserRequest"),m=Object(r.b)("auth/getCurrentUserSuccess"),d=Object(r.b)("auth/getCurrentUserError");t.a={registerRequest:a,registerSuccess:c,registerError:o,loginRequest:u,loginSuccess:s,loginError:i,logoutRequest:l,logoutSuccess:b,logoutError:f,getCurrentUserRequest:g,getCurrentUserSuccess:m,getCurrentUserError:d}},47:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(50),o=n.n(c),u=(n(99),n(8)),s=n.n(u),i=function(){return a.a.createElement("div",{className:s.a.loading},a.a.createElement(o.a,{type:"ThreeDots",color:"#00BFFF",height:200,width:200}))};i.defaultProps={type:"Audio",color:"000000",height:80,width:80},t.a=i},53:function(e,t,n){e.exports=n(103)},8:function(e,t,n){e.exports={layout:"styles_layout__1AVBI",line:"styles_line__3m_w6",list:"styles_list__3EEzk",link:"styles_link__1QaiC",activeLink:"styles_activeLink__3VLWJ",header:"styles_header__3iLsF",text:"styles_text__3vPzx",activeText:"styles_activeText__LITVF",loading:"styles_loading__37MAP",title:"styles_title__3qP25",phoonebook:"styles_phoonebook__2ekGq",container:"styles_container__11mBP",status:"styles_status__3VMzg"}},9:function(e,t,n){"use strict";var r=n(1),a=Object(r.b)("contacts/addRequest"),c=Object(r.b)("contacts/addSuccess"),o=Object(r.b)("contacts/addError"),u=Object(r.b)("contacts/fetchRequest"),s=Object(r.b)("contacts/fetchSuccess"),i=Object(r.b)("contacts/fetchError"),l=Object(r.b)("contacts/removeRequest"),b=Object(r.b)("contacts/removeSuccess"),f=Object(r.b)("contacts/removeError"),g=Object(r.b)("contacts/filterContacts");t.a={addContactRequest:a,addContactSuccess:c,addContactError:o,fetchContactsRequest:u,fetchContactsSuccess:s,fetchContactsError:i,removeContactRequest:l,removeContactSuccess:b,removeContactError:f,filterContacts:g}}},[[53,6,7]]]);
//# sourceMappingURL=main.8d44d94a.chunk.js.map